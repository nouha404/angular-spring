<div class="container">
  <div class="card mt-2">
      <div class="card-header">
          <h5>Enregistrement Client</h5>
      </div>
      <div class="card-body">
          <form class="col-md-8 offset-2" #formClient="ngForm"
          (ngSubmit)="formClient.form.valid && onSaveFormulaire()"
          >


              <div class="mb-3 form-group">
                  <label for="nomComplet" class="form-label">NomComplet</label>
                  <input type="text"
                        name="nomComplet"
                         [(ngModel)]="clientCreate.nomComplet"
                         required
                         minlength="5"
                         #nomComplet="ngModel"

                         class="form-control" id="nomComplet" aria-describedby="emailHelp">

                  @if (nomComplet.errors && (nomComplet.dirty || nomComplet.touched)) {
                    @if(nomComplet.errors["required"]){
                      <small id="nomCompletHelp" class="form-text text-danger">
                        Le nomComplet est obligatoire
                      </small>

                    }
                    @if(nomComplet.errors["minlength"]){
                      <small id="nomCompletHelp" class="form-text text-danger">
                        Le nomComplet doit avoir aumoins 5 caracteres
                      </small>

                    }

                  }


              </div>
              <div class="mb-3">
                  <label for="telephone" class="form-label">Telephone</label>
                  <input type="text"
                         name="telephone"
                         [(ngModel)]="clientCreate.telephone"
                         class="form-control" id="telephone" aria-describedby="emailHelp"
                         #telephone="ngModel"
                         pattern="^(77|76|78){1}[0-9]{7}"
                         >

                  @if (telephone.errors && (telephone.dirty || telephone.touched)) {

                    @if(telephone.errors["pattern"]){
                      <small id="telephoneHelp" class="form-text text-danger">
                        Le tel doit contenir 9 chiffres
                      </small>

                    }
                  }


              </div>
              <div class="mb-3">
                  <label for="ville" class="form-label">Ville</label>
                  <input
                          name="ville"
                          [(ngModel)]="clientCreate.ville"
                          type="text" class="form-control" id="ville" aria-describedby="emailHelp"
                          #ville="ngModel"
                          >

                          @if (ville.errors && (ville.dirty || ville.touched)) {
                            <small id="villeHelp" class="form-text text-danger">
                              La ville est obligatoire
                            </small>
                          }

              </div>
              <div class="mb-3">
                  <label for="quartier"
                         class="form-label">Quartier</label>
                  <input
                          name="quartier"
                          [(ngModel)]="clientCreate.quartier"
                          type="text" class="form-control" id="quartier" aria-describedby="emailHelp">

              </div>
              <div class="mb-3">
                  <label for="numVilla"
                         class="form-label">Numero Villa</label>
                  <input
                          name="numVilla"
                          [(ngModel)]="clientCreate.numVilla"
                          type="text" class="form-control" id="numVilla" aria-describedby="emailHelp">

              </div>
              <div>
                  <button [disabled]="formClient.invalid" type="submit" class="float-end btn btn-primary">Enregister</button>
              </div>

          </form>



      </div>
  </div>
</div>
